<!DOCTYPE html>
<html>
<head>
	<title>Chatbot</title>
</head>
<body>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='chat.css')}}"/>

	<div id="chat-container">
		<div id="chat-window">
			<p>Chatbot: Hello, how can I help you today?</p>
		</div>
		<div id="chat-box">
		  <form onsubmit="return askQuestion()">
			<label for="user-input">You:</label>
			<input type="text" id="user-input">
			<button type="submit">Send</button>
		  </form>
		</div>
	</div>

<!--	<div id="chat-box">-->
<!--  		<input type="text" id="user-input">-->
<!--  		<button type="submit" onclick="return askQuestion()">Send</button>-->
<!--	</div>-->

	<div id="faq-section">
		<h3>Frequently Asked Questions</h3>
		<ul>
		  <li><a href="#">How do I create an account?</a></li>
		  <li><a href="#">How do I reset my password?</a></li>
		  <li><a href="#">What payment methods do you accept?</a></li>
		</ul>
	  </div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
    	let chatWindow = $('#chat-window');
    	let questions = [];

    	function askQuestion() {
    		let userInput = document.getElementById("user-input").value;
   			questions.push(userInput);
    		let chatMessage = document.createElement("p");
    		chatMessage.innerText = "You: " + userInput;
    		chatWindow.appendChild(chatMessage);
    		document.getElementById("user-input").value = "";

    		// Send an AJAX request to the Flask backend to get the chatbot response
    		$.ajax({
        		type: 'POST',
        		url: '/chat',
        		data: {'question': userInput},
        		success: function(response) {
            		let botMessage = document.createElement("p");
            		botMessage.innerText = "Chatbot: " + response;
            		chatWindow.appendChild(botMessage);
        		},
        	error: function(error) {
            	console.log(error);
        		}
   		 	});

    		return false;
		}
	</script>
</body>
</html> 